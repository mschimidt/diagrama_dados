<html lang="pt-BR"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapeamento de Linhagem de Dados - CSOnline</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Biblioteca de Criptografia (CryptoJS) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }
        ::-webkit-scrollbar { width: 10px; height: 10px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 5px; border: 2px solid #f1f5f9; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        .node-rect { transition: all 0.2s ease; }
        .node-group:hover .node-rect { filter: drop-shadow(0 4px 6px rgb(0 0 0 / 0.1)); cursor: pointer; }
        .link-path { transition: stroke-opacity 0.3s ease, stroke-width 0.3s ease, stroke 0.3s ease; }
        #svg-container { user-select: none; }
        
        /* Modal Styles */
        .modal-overlay { background-color: rgba(15, 23, 42, 0.9); }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.left-3{left:0.75rem}.top-0{top:0px}.top-2\.5{top:0.625rem}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mr-4{margin-right:1rem}.mt-10{margin-top:2.5rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}.line-clamp-3{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.block{display:block}.flex{display:flex}.hidden{display:none}.h-screen{height:100vh}.h-10{height:2.5rem}.h-16{height:4rem}.h-4{height:1rem}.h-48{height:12rem}.h-full{height:100%}.w-4{width:1rem}.w-80{width:20rem}.w-96{width:24rem}.w-\[250px\]{width:250px}.w-full{width:100%}.max-w-6xl{max-width:72rem}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.border-collapse{border-collapse:collapse}.cursor-grab{cursor:grab}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-slate-100 > :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(241 245 249 / var(--tw-divide-opacity, 1))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:0.25rem}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-r{border-right-width:1px}.border-emerald-500{--tw-border-opacity:1;border-color:rgb(16 185 129 / var(--tw-border-opacity, 1))}.border-slate-100{--tw-border-opacity:1;border-color:rgb(241 245 249 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.border-slate-300\/50{border-color:rgb(203 213 225 / 0.5)}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-emerald-600{--tw-bg-opacity:1;background-color:rgb(5 150 105 / var(--tw-bg-opacity, 1))}.bg-slate-100{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.bg-slate-200{--tw-bg-opacity:1;background-color:rgb(226 232 240 / var(--tw-bg-opacity, 1))}.bg-slate-900{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.pl-9{padding-left:2.25rem}.pr-3{padding-right:0.75rem}.text-left{text-align:left}.text-center{text-align:center}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-\[10px\]{font-size:10px}.font-bold{font-weight:700}.font-medium{font-weight:500}.uppercase{text-transform:uppercase}.leading-tight{line-height:1.25}.tracking-wider{letter-spacing:0.05em}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-emerald-700:hover{--tw-bg-opacity:1;background-color:rgb(4 120 87 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-800:hover{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-50:hover{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.hover\:shadow-sm:hover{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}.active\:cursor-grabbing:active{cursor:grabbing}</style></head>
<body class="bg-slate-50 text-slate-800 h-screen flex flex-col overflow-hidden">

    <!-- LOGIN SCREEN (Inicialmente Oculto) -->
    <div id="login-screen" class="fixed inset-0 z-50 flex items-center justify-center bg-slate-900 hidden">
        <div class="bg-white p-8 rounded-lg shadow-2xl w-96 text-center animate-in fade-in slide-in-from-bottom-4">
            <div class="mb-4 text-blue-600 flex justify-center">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
            </div>
            <h2 class="text-xl font-bold mb-2">Conteúdo Protegido</h2>
            <p class="text-sm text-slate-500 mb-6">Este diagrama contém dados confidenciais criptografados. Digite a senha para descriptografar.</p>
            <input type="password" id="decrypt-pass" class="w-full p-3 border border-slate-300 rounded mb-4 focus:ring-2 focus:ring-blue-500 outline-none" placeholder="Senha de acesso" onkeyup="if(event.key==='Enter') decryptData()">
            <button onclick="decryptData()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition">Desbloquear</button>
            <p id="login-error" class="text-red-500 text-xs mt-3 hidden">Senha incorreta ou dados corrompidos.</p>
        </div>
    </div>

    <!-- HEADER -->
    <header class="bg-slate-900 text-white p-4 shadow-md flex justify-between items-center z-10 shrink-0 h-16">
        <div class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#60a5fa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path></svg>
            <div>
                <h1 class="text-lg font-bold">Mapeamento de Linhagem</h1>
                <p class="text-xs text-slate-400">CSOnline</p>
            </div>
        </div>
        <div class="flex gap-2">
            <!-- Botão de Segurança -->
            <button onclick="showEncryptModal()" id="btn-lock" class="px-3 py-2 rounded-md text-xs font-bold uppercase tracking-wider transition-colors bg-emerald-600 hover:bg-emerald-700 text-white flex items-center gap-2 mr-4 border border-emerald-500">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                Criar Arquivo Seguro
            </button>

            <button onclick="switchTab('diagram')" id="btn-diagram" class="px-4 py-2 rounded-md text-sm font-medium transition-colors bg-blue-600 text-white flex items-center gap-2 shadow-sm">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
                Diagrama
            </button>
            <button onclick="switchTab('data')" id="btn-data" class="px-4 py-2 rounded-md text-sm font-medium transition-colors hover:bg-slate-800 text-slate-300 flex items-center gap-2">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 3v18"></path><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M3 9h18"></path><path d="M3 15h18"></path></svg>
                Dados
            </button>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <div id="app-content" class="flex-1 overflow-hidden flex relative">
        <aside class="w-80 bg-white border-r border-slate-200 overflow-y-auto shadow-sm z-20 flex flex-col shrink-0">
            <div class="p-4 border-b border-slate-100 bg-slate-50 sticky top-0 z-10">
                <div class="relative">
                    <svg class="absolute left-3 top-2.5 w-4 h-4 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                    <input type="text" id="searchInput" placeholder="Filtrar diagrama..." class="w-full pl-9 pr-3 py-2 text-sm border border-slate-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none transition-shadow hover:shadow-sm">
                </div>
            </div>
            <div id="sidebar-content" class="flex-1 p-4"><div class="text-center mt-10 text-slate-400 fade-in"><p class="text-sm">Selecione um item no diagrama.</p></div></div>
        </aside>

        <main class="flex-1 relative bg-slate-100 overflow-hidden h-full">
            <div id="tab-diagram" class="w-full h-full overflow-hidden relative flex flex-col">
                <div class="h-10 bg-slate-200 border-b border-slate-300 flex shrink-0 text-xs font-bold text-slate-500 tracking-wider uppercase items-center">
                    <div class="w-[250px] text-center shrink-0 border-r border-slate-300/50">Origem</div>
                    <div class="w-[250px] text-center shrink-0 border-r border-slate-300/50">Domínio</div>
                    <div class="w-[250px] text-center shrink-0 border-r border-slate-300/50">Escopo CS</div>
                    <div class="w-[250px] text-center shrink-0">Destino</div>
                </div>
                <div class="flex-1 overflow-auto bg-slate-100 cursor-grab active:cursor-grabbing relative" id="svg-container">
                    <svg id="main-svg" width="1000" height="1430" class="block bg-slate-100">
                        <defs>
                           <!-- Markers defined in JS -->
                        </defs>
                        <g id="svg-background">
                            <rect x="0" y="0" width="250" height="1430" fill="#f8fafc" class="border-r"></rect>
                            <rect x="250" y="0" width="250" height="1430" fill="#f1f5f9"></rect>
                            <rect x="500" y="0" width="250" height="1430" fill="#e2e8f0"></rect>
                            <rect x="750" y="0" width="250" height="1430" fill="#cbd5e1" opacity="0.3"></rect>
                            <line x1="250" y1="0" x2="250" y2="100%" stroke="#e2e8f0" stroke-width="1" height="1430"></line>
                            <line x1="500" y1="0" x2="500" y2="100%" stroke="#cbd5e1" stroke-width="1" height="1430"></line>
                            <line x1="750" y1="0" x2="750" y2="100%" stroke="#94a3b8" stroke-width="1" stroke-opacity="0.3" height="1430"></line>
                        </g>
                        <g id="svg-links"><path d="M 215 476.6666666666667 C 295 476.6666666666667, 205 910, 285 910" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 910 C 545 910, 455 1032.7777777777778, 535 1032.7777777777778" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 1032.7777777777778 C 795 1032.7777777777778, 705 1215.5, 785 1215.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 1032.7777777777778 C 795 1032.7777777777778, 705 1144, 785 1144" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 476.6666666666667 C 295 476.6666666666667, 205 1170, 285 1170" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1170 C 545 1170, 455 158.88888888888889, 535 158.88888888888889" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 158.88888888888889 C 795 158.88888888888889, 705 214.5, 785 214.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 953.3333333333334 C 295 953.3333333333334, 205 260, 285 260" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 260 C 545 260, 455 158.88888888888889, 535 158.88888888888889" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1170 C 545 1170, 455 238.33333333333331, 535 238.33333333333331" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 238.33333333333331 C 795 238.33333333333331, 705 500.5, 785 500.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 260 C 545 260, 455 238.33333333333331, 535 238.33333333333331" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1170 C 545 1170, 455 317.77777777777777, 535 317.77777777777777" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 317.77777777777777 C 795 317.77777777777777, 705 429, 785 429" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 476.6666666666667 C 295 476.6666666666667, 205 390, 285 390" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 390 C 545 390, 455 317.77777777777777, 535 317.77777777777777" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 260 C 545 260, 455 317.77777777777777, 535 317.77777777777777" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1170 C 545 1170, 455 397.22222222222223, 535 397.22222222222223" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 397.22222222222223 C 795 397.22222222222223, 705 572, 785 572" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 260 C 545 260, 455 397.22222222222223, 535 397.22222222222223" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 476.6666666666667 C 295 476.6666666666667, 205 1300, 285 1300" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1300 C 545 1300, 455 476.66666666666663, 535 476.66666666666663" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 476.66666666666663 C 795 476.66666666666663, 705 643.5, 785 643.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 476.6666666666667 C 295 476.6666666666667, 205 130, 285 130" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 130 C 545 130, 455 476.66666666666663, 535 476.66666666666663" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1300 C 545 1300, 455 556.1111111111111, 535 556.1111111111111" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 556.1111111111111 C 795 556.1111111111111, 705 715, 785 715" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 260 C 545 260, 455 556.1111111111111, 535 556.1111111111111" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 476.6666666666667 C 295 476.6666666666667, 205 650, 285 650" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 650 C 545 650, 455 715, 535 715" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 715 C 795 715, 705 929.5, 785 929.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 476.6666666666667 C 295 476.6666666666667, 205 780, 285 780" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 780 C 545 780, 455 794.4444444444445, 535 794.4444444444445" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 794.4444444444445 C 795 794.4444444444445, 705 786.5, 785 786.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 780 C 545 780, 455 873.8888888888889, 535 873.8888888888889" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 873.8888888888889 C 795 873.8888888888889, 705 858, 785 858" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 476.6666666666667 C 295 476.6666666666667, 205 1040, 285 1040" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1040 C 545 1040, 455 953.3333333333333, 535 953.3333333333333" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 953.3333333333333 C 795 953.3333333333333, 705 143, 785 143" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 260 C 545 260, 455 953.3333333333333, 535 953.3333333333333" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 953.3333333333334 C 295 953.3333333333334, 205 780, 285 780" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 780 C 545 780, 455 635.5555555555555, 535 635.5555555555555" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 635.5555555555555 C 795 635.5555555555555, 705 357.5, 785 357.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1300 C 545 1300, 455 79.44444444444444, 535 79.44444444444444" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 79.44444444444444 C 795 79.44444444444444, 705 286, 785 286" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1170 C 545 1170, 455 1271.111111111111, 535 1271.111111111111" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 1271.111111111111 C 795 1271.111111111111, 705 1287, 785 1287" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 215 476.6666666666667 C 295 476.6666666666667, 205 520, 285 520" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 520 C 545 520, 455 1191.6666666666667, 535 1191.6666666666667" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 1191.6666666666667 C 795 1191.6666666666667, 705 71.5, 785 71.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1170 C 545 1170, 455 1191.6666666666667, 535 1191.6666666666667" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1170 C 545 1170, 455 1112.2222222222222, 535 1112.2222222222222" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 1112.2222222222222 C 795 1112.2222222222222, 705 1072.5, 785 1072.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 1112.2222222222222 C 795 1112.2222222222222, 705 1001, 785 1001" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 465 1170 C 545 1170, 455 1350.5555555555554, 535 1350.5555555555554" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path><path d="M 715 1350.5555555555554 C 795 1350.5555555555554, 705 1358.5, 785 1358.5" fill="none" class="link-path" stroke="#cbd5e1" stroke-width="1.5" stroke-opacity="0.6"></path></g>
                        <g id="svg-nodes"><g transform="translate(35, 451.6666666666667)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#e0f2fe" stroke="#0284c7" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">DATA LAKE</span></div></foreignObject><circle cx="180" cy="25" r="3" fill="#0284c7"></circle></g><g transform="translate(285, 885)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">PORTAL INCRIVEIS</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 1007.7777777777778)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">SMP</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 1190.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">SMP.ResultQuarter</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(785, 1119)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">SMP.ResultAnnual</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(285, 1145)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">SAP</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 133.88888888888889)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">LUBS</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 189.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">ACS.OrderStatusInvoicing</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(35, 928.3333333333334)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#e0f2fe" stroke="#0284c7" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">SQL SERVER</span></div></foreignObject><circle cx="180" cy="25" r="3" fill="#0284c7"></circle></g><g transform="translate(285, 235)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">CSONLINE ACS</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 213.33333333333331)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MEU NEGÓCIO ARG</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 475.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MYB.PurchaseManagementArg</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(535, 292.77777777777777)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MEU NEGÓCIO BR</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 404)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MYB.PurchaseManagement</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(285, 365)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">DECISION CENTER</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 372.22222222222223)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MEU NEGÓCIO LUBS</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 547)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MYB.PurchaseManagementNLUB</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(285, 1275)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">SHELLBOX</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 451.66666666666663)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MEU NEGÓCIO SHELLBOX</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 618.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MYB.PurchaseManagementShellBox</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(285, 105)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">CSONLINE - MEU NEGÓCIO BR</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 531.1111111111111)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MEU NEGÓCIO VOC</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 690)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">MYB.VoiceCustomer / MYB.VoiceCustomerComment</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(285, 625)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">PES ARGENTINA</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 690)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">PES ARGENTINA</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 904.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">PesArg.KpiVolumeMonthly / PesArg.Kpi / PesArg.KpiTiendas / PesArg.KpiShellBox / PesArg.KpiVolumes / PesArg.Customer</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(285, 755)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">PES BRASIL</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 769.4444444444445)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">PES BRASIL</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 761.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">PES.MixShellVPower / PES.Shellbox / PES.Lubricant / PES.Volume / PES.Impression / PES.SSMA / PES.SSMAOverview / PES.MotivatingProgram / PES.Coaching / PES.F1Challenge / PES.CustomerReseller / PES.CoachingTrainee / PES.MotivatingProgramDistribution / PES.MaterialApplied / PES.AnnualConsolidation</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(535, 848.8888888888889)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">PES IMAGEM</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 833)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">PES.MonolithCategory / PES.FacadeCategory / PES.SignCategory / PES.FillingStationCategory / PES.SelectCategory / PES.SubsidiaryBuildingCategory / PES.UniformsCategory</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(285, 1015)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">SALESFORCE</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 928.3333333333333)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">QUOTAS</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 118)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">ACS.CustomerTerritory / ACS.Agent / ACS.Territory / ACS.AgentTerritory</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(535, 610.5555555555555)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">OFERTA INTEGRADA</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 332.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">IOR.BENEFITSTATEMENT</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(535, 54.44444444444444)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">ACS</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 261)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">ACS.Stores</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(535, 1246.111111111111)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">TRADING - HISTÓRICO FATURAMENTO</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 1262)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">TRD.BillingHistory</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(285, 495)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#fce7f3" stroke="#db2777" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">FINANÇAS</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#db2777"></circle><circle cx="180" cy="25" r="3" fill="#db2777"></circle></g><g transform="translate(535, 1166.6666666666667)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">TRADING - EXTRATO DE CONTAS</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 46.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">ACS.CustomerAccountStatementReport</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(535, 1087.2222222222222)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">TRADING</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 1047.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">SAPEAB.Customers</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(785, 976)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">SAP.TradingSalesTeam</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g><g transform="translate(535, 1325.5555555555554)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#ffedd5" stroke="#ea580c" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">TRADING - STATUS DE PEDIDO</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#ea580c"></circle><circle cx="180" cy="25" r="3" fill="#ea580c"></circle></g><g transform="translate(785, 1333.5)" class="node-group" style="opacity: 1;"><rect width="180" height="50" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1" class="node-rect"></rect><foreignObject width="180" height="50"><div class="w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden text-slate-700"><span class="line-clamp-3">TRD.OrdersHistory</span></div></foreignObject><circle cx="0" cy="25" r="3" fill="#16a34a"></circle></g></g>
                    </svg>
                </div>
            </div>

            <div id="tab-data" class="hidden w-full h-full overflow-y-auto p-8 max-w-6xl mx-auto">
                <div class="bg-white p-6 rounded-lg shadow-sm mb-6 border border-slate-200">
                    <h2 class="text-lg font-bold mb-4">Dados (CSV)</h2>
                    <textarea id="csv-input" class="w-full h-48 p-4 font-mono text-xs border border-slate-300 rounded-md bg-slate-50 focus:ring-2 focus:ring-blue-500 outline-none" placeholder="Cole seu CSV aqui..."></textarea>
                    <div class="mt-4 flex justify-end gap-3">
                        <button onclick="updateFromCSV()" class="px-6 py-2 bg-blue-600 text-white rounded text-sm font-medium hover:bg-blue-700">Atualizar Diagrama</button>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                    <h3 id="table-title" class="font-bold mb-4">Tabela</h3>
                    <div class="overflow-x-auto border rounded-md">
                        <table class="w-full text-xs text-left border-collapse">
                            <thead class="bg-slate-100"><tr id="table-head"></tr></thead>
                            <tbody id="data-table-body" class="divide-y divide-slate-100"><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PORTAL INCRIVEIS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PORTAL_INCRIVEIS/VIEW_MOTOR_INCRIVEIS_LIDERES_TRIMESTRAL/</td><td class="p-3 border-b text-slate-600">SMP</td><td class="p-3 border-b text-blue-600 font-medium">SMP.ResultQuarter</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PORTAL INCRIVEIS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PORTAL_INCRIVEIS/VIEW_MOTOR_INCRIVEIS_LIDERES_ANUAL/</td><td class="p-3 border-b text-slate-600">SMP</td><td class="p-3 border-b text-blue-600 font-medium">SMP.ResultAnnual</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_BIL/VBRK/ATUAL</td><td class="p-3 border-b text-slate-600">LUBS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.OrderStatusInvoicing</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_SLS/VBAK/ATUAL/</td><td class="p-3 border-b text-slate-600">LUBS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.OrderStatusInvoicing</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_BIL/VBRP/ATUAL/</td><td class="p-3 border-b text-slate-600">LUBS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.OrderStatusInvoicing</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_SLS/VBAP/ATUAL/</td><td class="p-3 border-b text-slate-600">LUBS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.OrderStatusInvoicing</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/LO_MD/T134T/ATUAL/</td><td class="p-3 border-b text-slate-600">LUBS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.OrderStatusInvoicing</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/LO_MD/MARA/ATUAL/</td><td class="p-3 border-b text-slate-600">LUBS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.OrderStatusInvoicing</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_BF/VBFA/ATUAL/</td><td class="p-3 border-b text-slate-600">LUBS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.OrderStatusInvoicing</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">SAP.Material</td><td class="p-3 border-b text-slate-600">LUBS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.OrderStatusInvoicing</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">ACS.MaterialCategory</td><td class="p-3 border-b text-slate-600">LUBS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.OrderStatusInvoicing</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_BIL/VBRP/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO ARG</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementArg</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_SLS/VBAK/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO ARG</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementArg</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_BIL/VBRK/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO ARG</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementArg</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/LE_SHP/LIKP/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO ARG</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementArg</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_BF/VBFA/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO ARG</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementArg</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">SAP.Material</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO ARG</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementArg</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">ACS.MaterialCategory</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO ARG</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementArg</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">ACS.MaterialSubCategory</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO ARG</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementArg</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_P72/ZF24/LAYOUT_PRICING/DELTA</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO BR</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagement</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">DECISION CENTER</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/PRICING/VOLUME_COMBS_DECISION/FATO_VOLUME_ZF24/</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO BR</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagement</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">SAP.Material</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO BR</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagement</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">ACS.MaterialCategory</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO BR</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagement</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">ACS.MaterialSubCategory</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO BR</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagement</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_BIL/VBRP/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO LUBS</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementNLUB</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_SLS/VBAK/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO LUBS</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementNLUB</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_BIL/VBRK/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO LUBS</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementNLUB</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/LE_SHP/LIKP/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO LUBS</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementNLUB</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SAP</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SAP_COMBS/SD_BF/VBFA/ATUAL</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO LUBS</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementNLUB</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">SAP.Material</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO LUBS</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementNLUB</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">ACS.MaterialCategory</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO LUBS</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementNLUB</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">ACS.MaterialSubCategory</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO LUBS</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementNLUB</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SHELLBOX</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SHELLBOX/RDS/acelera_prd/Transactions/</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO SHELLBOX</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementShellBox</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SHELLBOX</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/SYSTEM/SHELLBOX/RDS/acelera_prd/TransactionSelfCampaign/</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO SHELLBOX</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementShellBox</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">CSONLINE - MEU NEGÓCIO BR</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">TRUSTED/CSONLINE/CSO_PRODUCTS/MYB/PURCHASE_MANAGEMENT_INTERMEDIARIA/DELTA/</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO SHELLBOX</td><td class="p-3 border-b text-blue-600 font-medium">MYB.PurchaseManagementShellBox</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SHELLBOX</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/SHELLBOX/PRODUTO_DADOS_CSONLINE/FACT_CUSTOMER_CX_VOICE_OF_CUSTOMER/</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO VOC</td><td class="p-3 border-b text-blue-600 font-medium">MYB.VoiceCustomer / MYB.VoiceCustomerComment</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">SQL SERVER</td><td class="p-3 border-b text-slate-600">CSONLINE ACS</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">IOR.Proposal</td><td class="p-3 border-b text-slate-600">MEU NEGÓCIO VOC</td><td class="p-3 border-b text-blue-600 font-medium">MYB.VoiceCustomer / MYB.VoiceCustomerComment</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES ARGENTINA</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PES/VIEW_METAS_PES_ARGENTINA</td><td class="p-3 border-b text-slate-600">PES ARGENTINA</td><td class="p-3 border-b text-blue-600 font-medium">PesArg.KpiVolumeMonthly / PesArg.Kpi / PesArg.KpiTiendas / PesArg.KpiShellBox / PesArg.KpiVolumes / PesArg.Customer</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES ARGENTINA</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PES/VIEW_CALCULOS_PES_ARGENTINA</td><td class="p-3 border-b text-slate-600">PES ARGENTINA</td><td class="p-3 border-b text-blue-600 font-medium">PesArg.KpiVolumeMonthly / PesArg.Kpi / PesArg.KpiTiendas / PesArg.KpiShellBox / PesArg.KpiVolumes / PesArg.Customer</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PES/CONSOLIDACAO_PES/</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b text-blue-600 font-medium">PES.MixShellVPower / PES.Shellbox / PES.Lubricant / PES.Volume / PES.Impression / PES.SSMA / PES.SSMAOverview / PES.MotivatingProgram / PES.Coaching / PES.F1Challenge / PES.CustomerReseller / PES.CoachingTrainee / PES.MotivatingProgramDistribution / PES.MaterialApplied / PES.AnnualConsolidation</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PES/PILAR_RESULTADO/</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b text-blue-600 font-medium">PES.MixShellVPower / PES.Shellbox / PES.Lubricant / PES.Volume / PES.Impression / PES.SSMA / PES.SSMAOverview / PES.MotivatingProgram / PES.Coaching / PES.F1Challenge / PES.CustomerReseller / PES.CoachingTrainee / PES.MotivatingProgramDistribution / PES.MaterialApplied / PES.AnnualConsolidation</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PES/FATO_DATA_PORTAL_METAS/</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b text-blue-600 font-medium">PES.MixShellVPower / PES.Shellbox / PES.Lubricant / PES.Volume / PES.Impression / PES.SSMA / PES.SSMAOverview / PES.MotivatingProgram / PES.Coaching / PES.F1Challenge / PES.CustomerReseller / PES.CoachingTrainee / PES.MotivatingProgramDistribution / PES.MaterialApplied / PES.AnnualConsolidation</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PES/FATO_IMAGEM_BEA_RESPOSTAS/</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b text-blue-600 font-medium">PES.MixShellVPower / PES.Shellbox / PES.Lubricant / PES.Volume / PES.Impression / PES.SSMA / PES.SSMAOverview / PES.MotivatingProgram / PES.Coaching / PES.F1Challenge / PES.CustomerReseller / PES.CoachingTrainee / PES.MotivatingProgramDistribution / PES.MaterialApplied / PES.AnnualConsolidation</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">STAGING/EXTERNAL/VIDI/</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b text-blue-600 font-medium">PES.MixShellVPower / PES.Shellbox / PES.Lubricant / PES.Volume / PES.Impression / PES.SSMA / PES.SSMAOverview / PES.MotivatingProgram / PES.Coaching / PES.F1Challenge / PES.CustomerReseller / PES.CoachingTrainee / PES.MotivatingProgramDistribution / PES.MaterialApplied / PES.AnnualConsolidation</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION_SENSITIVE/MARKETING/PES/MOTIVACIONAIS_CADASTRO_LIDER_SENSITIVE_VIEW/</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b text-blue-600 font-medium">PES.MixShellVPower / PES.Shellbox / PES.Lubricant / PES.Volume / PES.Impression / PES.SSMA / PES.SSMAOverview / PES.MotivatingProgram / PES.Coaching / PES.F1Challenge / PES.CustomerReseller / PES.CoachingTrainee / PES.MotivatingProgramDistribution / PES.MaterialApplied / PES.AnnualConsolidation</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PES/FATO_MOTIVACIONAIS_DISTRIBUICAO/</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b text-blue-600 font-medium">PES.MixShellVPower / PES.Shellbox / PES.Lubricant / PES.Volume / PES.Impression / PES.SSMA / PES.SSMAOverview / PES.MotivatingProgram / PES.Coaching / PES.F1Challenge / PES.CustomerReseller / PES.CoachingTrainee / PES.MotivatingProgramDistribution / PES.MaterialApplied / PES.AnnualConsolidation</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PES/FATO_VOLUME_COMBUSTIVEL/</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b text-blue-600 font-medium">PES.MixShellVPower / PES.Shellbox / PES.Lubricant / PES.Volume / PES.Impression / PES.SSMA / PES.SSMAOverview / PES.MotivatingProgram / PES.Coaching / PES.F1Challenge / PES.CustomerReseller / PES.CoachingTrainee / PES.MotivatingProgramDistribution / PES.MaterialApplied / PES.AnnualConsolidation</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">PES BRASIL</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/MARKETING/PES/FATO_IMAGEM_BEA_RESPOSTAS/</td><td class="p-3 border-b text-slate-600">PES IMAGEM</td><td class="p-3 border-b text-blue-600 font-medium">PES.MonolithCategory / PES.FacadeCategory / PES.SignCategory / PES.FillingStationCategory / PES.SelectCategory / PES.SubsidiaryBuildingCategory / PES.UniformsCategory</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SALESFORCE</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/SALESFORCE/INTEGRACAO_SALESFORCE/VIEWS/CLIENTE/</td><td class="p-3 border-b text-slate-600">QUOTAS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.CustomerTerritory / ACS.Agent / ACS.Territory / ACS.AgentTerritory</td></tr><tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">DATA LAKE</td><td class="p-3 border-b text-slate-600">SALESFORCE</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">APPLICATION/SALESFORCE/INTEGRACAO_SALESFORCE/VIEWS/USUARIO/</td><td class="p-3 border-b text-slate-600">QUOTAS</td><td class="p-3 border-b text-blue-600 font-medium">ACS.CustomerTerritory / ACS.Agent / ACS.Territory / ACS.AgentTerritory</td></tr></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- APP LOGIC -->
    <script>
        // --- CONSTANTS ---
        const COL_WIDTH = 250;
        const NODE_WIDTH = 180;
        const NODE_HEIGHT_BASE = 50;
        const MIN_GAP = 20;

        // --- DATA PLACEHOLDERS (DO NOT EDIT COMMENTS) ---
        // Se ENCRYPTED_BLOB estiver preenchido, o app pedirá senha.
        // Se SAMPLE_CSV estiver preenchido, o app carrega direto.
        
        let SAMPLE_CSV = ""; // DATA_MARKER

        let ENCRYPTED_BLOB = "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"; // ENCRYPTED_MARKER
        
        let rawData = "";
        let parsedData = [];
        let searchTerm = '';
        let selectedNodeId = null;
        let graphData = { nodes: [], links: [] };

        // --- SECURITY LOGIC ---

        function showEncryptModal() {
            const pass = prompt("Defina uma senha para proteger o arquivo:");
            if(pass) {
                try {
                    const encrypted = CryptoJS.AES.encrypt(rawData, pass).toString();
                    
                    // Clona o HTML atual
                    let htmlContent = document.documentElement.outerHTML;
                    
                    // Remove o CSV exposto e Injeta o Blob Criptografado
                    // Regex cuidadosa para substituir o conteúdo da variável SAMPLE_CSV
                    htmlContent = htmlContent.replace(
                        /let SAMPLE_CSV = `[\s\S]*?`; \/\/ DATA_MARKER/, 
                        'let SAMPLE_CSV = ""; // DATA_MARKER'
                    );
                    
                    // Injeta o blob na variável ENCRYPTED_BLOB
                    // Precisamos escapar as aspas para não quebrar o JS
                    htmlContent = htmlContent.replace(
                        'let ENCRYPTED_BLOB = ""; // ENCRYPTED_MARKER',
                        `let ENCRYPTED_BLOB = "${encrypted}"; // ENCRYPTED_MARKER`
                    );

                    downloadFile("diagrama_seguro.html", htmlContent);
                    alert("Arquivo 'diagrama_seguro.html' gerado! Use-o para hospedagem.");
                } catch (e) {
                    alert("Erro ao criptografar: " + e.message);
                }
            }
        }

        function decryptData() {
            const pass = document.getElementById('decrypt-pass').value;
            try {
                const bytes = CryptoJS.AES.decrypt(ENCRYPTED_BLOB, pass);
                const originalText = bytes.toString(CryptoJS.enc.Utf8);
                
                if (originalText && originalText.startsWith("ORIGEM,DOMINIO")) {
                    // Sucesso
                    SAMPLE_CSV = originalText;
                    document.getElementById('login-screen').classList.add('hidden');
                    document.getElementById('app-content').classList.remove('blur-sm'); // Remove blur if applied
                    initialize();
                } else {
                    throw new Error("Senha errada");
                }
            } catch (e) {
                document.getElementById('login-error').classList.remove('hidden');
                document.getElementById('decrypt-pass').classList.add('border-red-500');
            }
        }

        function downloadFile(filename, content) {
            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/html;charset=utf-8,' + encodeURIComponent(content));
            element.setAttribute('download', filename);
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }

        // --- APP INITIALIZATION ---

        window.addEventListener('DOMContentLoaded', () => {
            // Verificar se está em modo protegido
            if (ENCRYPTED_BLOB && ENCRYPTED_BLOB.length > 10) {
                // Modo Protegido: Mostrar Login, Esconder App
                document.getElementById('login-screen').classList.remove('hidden');
                // Opcional: Desabilitar o botão de criar novo arquivo seguro se já estiver seguro
                document.getElementById('btn-lock').classList.add('hidden');
            } else {
                // Modo Aberto: Carregar normal
                initialize();
            }

            document.getElementById('searchInput').addEventListener('input', (e) => {
                searchTerm = e.target.value;
                updateApp();
            });
        });

        function initialize() {
            document.getElementById('csv-input').value = SAMPLE_CSV;
            rawData = SAMPLE_CSV;
            updateApp();
        }

        // --- CORE LOGIC (Same as before) ---
        
        function parseCSV(csvText) {
            if(!csvText) return [];
            const lines = csvText.split('\n');
            const data = [];
            let lastOrigem = '', lastDominio = '', lastScopo = '', lastDestino = '';

            for (let i = 1; i < lines.length; i++) {
                const line = lines[i].trim();
                if (!line) continue;
                const cols = line.split(','); 
                const cleanCol = (idx) => cols[idx] ? cols[idx].trim() : '';

                const origem = cleanCol(0) || lastOrigem;
                const dominio = cleanCol(1) || lastDominio;
                const objeto = cleanCol(2);
                const scopo = cleanCol(3) || lastScopo;
                const destino = cleanCol(4) || lastDestino;

                if (origem || dominio || objeto || scopo || destino) {
                    data.push({ origem, dominio, objeto, scopo, destino });
                    lastOrigem = origem; lastDominio = dominio; lastScopo = scopo; lastDestino = destino;
                }
            }
            return data;
        }

        function processGraphData(data) {
            const nodes = {};
            const links = {};
            const addNode = (name, type, xIndex) => {
                if (!name) return null;
                const id = `${type}-${name}`;
                if (!nodes[id]) nodes[id] = { id, name, type, x: xIndex, y: 0, objects: [] };
                return nodes[id];
            };

            const filtered = data.filter(row => {
                if (!searchTerm) return true;
                const t = searchTerm.toLowerCase();
                return Object.values(row).some(v => v.toLowerCase().includes(t));
            });

            filtered.forEach(row => {
                const nOrigem = addNode(row.origem, 'origem', 0);
                const nDominio = addNode(row.dominio, 'dominio', 1);
                const nScopo = addNode(row.scopo || '(Sem Escopo)', 'scopo', 2);
                const nDestino = addNode(row.destino || '(Sem Destino)', 'destino', 3);

                const linkKey = (src, tgt) => `${src.id}::${tgt.id}`;
                const addLink = (src, tgt) => {
                    if (!src || !tgt) return;
                    const key = linkKey(src, tgt);
                    if (!links[key]) links[key] = { id: key, source: src.id, target: tgt.id, objects: [] };
                    if (row.objeto && !links[key].objects.includes(row.objeto)) links[key].objects.push(row.objeto);
                    if (row.objeto) {
                        if (!src.objects.includes(row.objeto)) src.objects.push(row.objeto);
                        if (!tgt.objects.includes(row.objeto)) tgt.objects.push(row.objeto);
                    }
                };
                addLink(nOrigem, nDominio);
                addLink(nDominio, nScopo);
                addLink(nScopo, nDestino);
            });

            const typeOrder = ['origem', 'dominio', 'scopo', 'destino'];
            const nodeList = Object.values(nodes);
            let maxNodesInCol = 0;
            typeOrder.forEach(type => {
                const count = nodeList.filter(n => n.type === type).length;
                if(count > maxNodesInCol) maxNodesInCol = count;
            });
            const totalHeight = Math.max(600, (maxNodesInCol * (NODE_HEIGHT_BASE + MIN_GAP)) + 100);
            typeOrder.forEach(type => {
                const typeNodes = nodeList.filter(n => n.type === type);
                typeNodes.sort((a, b) => a.name.localeCompare(b.name));
                const step = totalHeight / (typeNodes.length + 1);
                typeNodes.forEach((node, idx) => { node.y = step * (idx + 1); });
            });
            return { nodes: nodeList, links: Object.values(links), height: totalHeight };
        }

        function getLineage(startNodeId, allLinks) {
            const relatedNodes = new Set([startNodeId]);
            const relatedLinks = new Set();
            const queueUp = [startNodeId];
            const visitedUp = new Set([startNodeId]);
            
            while(queueUp.length > 0) {
                const current = queueUp.pop();
                allLinks.forEach(link => {
                    if (link.target === current) {
                        relatedLinks.add(link.id);
                        if (!visitedUp.has(link.source)) {
                            visitedUp.add(link.source); relatedNodes.add(link.source); queueUp.push(link.source);
                        }
                    }
                });
            }
            const queueDown = [startNodeId];
            const visitedDown = new Set([startNodeId]);
            while(queueDown.length > 0) {
                const current = queueDown.pop();
                allLinks.forEach(link => {
                    if (link.source === current) {
                        relatedLinks.add(link.id);
                        if (!visitedDown.has(link.target)) {
                            visitedDown.add(link.target); relatedNodes.add(link.target); queueDown.push(link.target);
                        }
                    }
                });
            }
            return { nodes: relatedNodes, links: relatedLinks };
        }

        function updateApp() {
            parsedData = parseCSV(rawData);
            graphData = processGraphData(parsedData);
            
            const svg = document.getElementById('main-svg');
            const svgContainer = document.getElementById('svg-background');
            svg.setAttribute('height', graphData.height);
            Array.from(svgContainer.children).forEach(el => {
                if(el.tagName === 'rect' || el.tagName === 'line') el.setAttribute('height', graphData.height);
            });

            renderDiagram();
            renderSidebar();
            renderTable();
        }

        function renderDiagram() {
            const svgLinks = document.getElementById('svg-links');
            const svgNodes = document.getElementById('svg-nodes');
            svgLinks.innerHTML = ''; svgNodes.innerHTML = '';

            let activeNodes = new Set();
            let activeLinks = new Set();

            if (selectedNodeId) {
                const lineage = getLineage(selectedNodeId, graphData.links);
                activeNodes = lineage.nodes; activeLinks = lineage.links;
            }

            graphData.links.forEach(link => {
                const src = graphData.nodes.find(n => n.id === link.source);
                const tgt = graphData.nodes.find(n => n.id === link.target);
                if (!src || !tgt) return;

                const isHigh = selectedNodeId && activeLinks.has(link.id);
                const isDimmed = selectedNodeId && !isHigh;
                const srcX = (src.x * COL_WIDTH) + (COL_WIDTH/2) + (NODE_WIDTH/2); 
                const tgtX = (tgt.x * COL_WIDTH) + (COL_WIDTH/2) - (NODE_WIDTH/2);
                const pathData = `M ${srcX} ${src.y} C ${srcX + 80} ${src.y}, ${tgtX - 80} ${tgt.y}, ${tgtX} ${tgt.y}`;

                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                path.setAttribute("d", pathData); path.setAttribute("fill", "none"); path.setAttribute("class", "link-path");
                
                if (isHigh) {
                    path.setAttribute("stroke", "#3b82f6"); path.setAttribute("stroke-width", "3"); path.setAttribute("stroke-opacity", "1");
                    svgLinks.appendChild(path);
                } else if (isDimmed) {
                    path.setAttribute("stroke", "#cbd5e1"); path.setAttribute("stroke-width", "1"); path.setAttribute("stroke-opacity", "0.1");
                    svgLinks.prepend(path);
                } else {
                    path.setAttribute("stroke", "#cbd5e1"); path.setAttribute("stroke-width", "1.5"); path.setAttribute("stroke-opacity", "0.6");
                    svgLinks.appendChild(path);
                }
            });

            graphData.nodes.forEach(node => {
                const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
                const xPos = (node.x * COL_WIDTH) + (COL_WIDTH / 2) - (NODE_WIDTH / 2);
                const yPos = node.y - (NODE_HEIGHT_BASE / 2);
                g.setAttribute("transform", `translate(${xPos}, ${yPos})`); g.setAttribute("class", "node-group");
                g.onclick = (e) => { e.stopPropagation(); selectedNodeId = node.id; updateApp(); };

                let opacity = 1;
                let isActive = selectedNodeId && activeNodes.has(node.id);
                if (selectedNodeId && !isActive) opacity = 0.2;
                g.style.opacity = opacity;

                const colors = {
                    'origem': { fill: '#e0f2fe', stroke: '#0284c7' }, 'dominio': { fill: '#fce7f3', stroke: '#db2777' },
                    'scopo': { fill: '#ffedd5', stroke: '#ea580c' }, 'destino': { fill: '#dcfce7', stroke: '#16a34a' }
                };
                const c = colors[node.type];
                const isSelected = (selectedNodeId === node.id);

                const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                rect.setAttribute("width", NODE_WIDTH); rect.setAttribute("height", NODE_HEIGHT_BASE); rect.setAttribute("rx", "6");
                rect.setAttribute("fill", isSelected ? "#2563eb" : (isActive ? "#eff6ff" : c.fill));
                rect.setAttribute("stroke", isSelected ? "#1e40af" : (isActive ? "#3b82f6" : c.stroke));
                rect.setAttribute("stroke-width", isSelected ? "3" : (isActive ? "2" : "1"));
                rect.classList.add("node-rect");

                const fo = document.createElementNS("http://www.w3.org/2000/svg", "foreignObject");
                fo.setAttribute("width", NODE_WIDTH); fo.setAttribute("height", NODE_HEIGHT_BASE);
                const div = document.createElement("div");
                div.className = `w-full h-full flex items-center justify-center text-center px-2 text-[10px] leading-tight font-medium overflow-hidden ${isSelected ? 'text-white' : 'text-slate-700'}`;
                div.innerHTML = `<span class="line-clamp-3">${node.name}</span>`;
                fo.appendChild(div);

                g.appendChild(rect); g.appendChild(fo);
                
                if(node.type !== 'origem') {
                    const d1 = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                    d1.setAttribute("cx", 0); d1.setAttribute("cy", NODE_HEIGHT_BASE/2); d1.setAttribute("r", 3); d1.setAttribute("fill", isSelected ? "#fff" : c.stroke); g.appendChild(d1);
                }
                if(node.type !== 'destino') {
                    const d2 = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                    d2.setAttribute("cx", NODE_WIDTH); d2.setAttribute("cy", NODE_HEIGHT_BASE/2); d2.setAttribute("r", 3); d2.setAttribute("fill", isSelected ? "#fff" : c.stroke); g.appendChild(d2);
                }
                if (isActive || opacity === 1) svgNodes.appendChild(g); else svgNodes.prepend(g);
            });
            document.getElementById('svg-container').onclick = (e) => { if(e.target.id === 'svg-container' || e.target.id === 'main-svg') { selectedNodeId = null; updateApp(); } };
        }

        function renderSidebar() {
            const container = document.getElementById('sidebar-content');
            if (!selectedNodeId) {
                container.innerHTML = `<div class="text-center mt-10 text-slate-400 fade-in"><p class="text-sm">Selecione um item no diagrama.</p></div>`; return;
            }
            const node = graphData.nodes.find(n => n.id === selectedNodeId);
            if (!node) return;
            const objectList = node.objects.length > 0 
                ? `<ul class="divide-y divide-slate-100">${node.objects.map(obj => `<li class="px-3 py-2 text-xs font-mono text-slate-600 break-all hover:bg-slate-50 flex items-start gap-2">${obj}</li>`).join('')}</ul>`
                : `<div class="p-4 text-xs text-slate-400 italic text-center border-2 border-dashed border-slate-100 rounded">Nenhum objeto físico vinculado diretamente.</div>`;
            container.innerHTML = `<div class="fade-in"><div class="flex justify-between items-start mb-4 pb-4 border-b border-slate-100"><div><span class="text-[10px] font-bold uppercase tracking-wider text-slate-400 border border-slate-200 px-1.5 py-0.5 rounded">${node.type}</span><h2 class="text-lg font-bold text-slate-800 leading-tight mt-2">${node.name}</h2></div><button onclick="selectedNodeId = null; updateApp();" class="text-slate-400 hover:text-slate-600 p-1 hover:bg-slate-100 rounded">X</button></div><div class="mb-4"><h3 class="text-xs font-bold text-slate-500 uppercase mb-2">Objetos (${node.objects.length})</h3><div class="bg-white border border-slate-200 rounded-md overflow-hidden max-h-[calc(100vh-300px)] overflow-y-auto shadow-sm">${objectList}</div></div></div>`;
        }

        function renderTable() {
            const tbody = document.getElementById('data-table-body');
            const filtered = parsedData.filter(row => !searchTerm || Object.values(row).some(v => v.toLowerCase().includes(searchTerm.toLowerCase())));
            tbody.innerHTML = filtered.slice(0, 50).map(row => `<tr class="hover:bg-blue-50 transition-colors"><td class="p-3 border-b text-slate-700 font-medium">${row.origem}</td><td class="p-3 border-b text-slate-600">${row.dominio}</td><td class="p-3 border-b font-mono text-slate-500 text-[10px]">${row.objeto}</td><td class="p-3 border-b text-slate-600">${row.scopo}</td><td class="p-3 border-b text-blue-600 font-medium">${row.destino}</td></tr>`).join('');
        }

        function switchTab(tab) {
            document.getElementById('tab-diagram').classList.toggle('hidden', tab !== 'diagram');
            document.getElementById('tab-data').classList.toggle('hidden', tab !== 'data');
            const btnDiag = document.getElementById('btn-diagram');
            const btnData = document.getElementById('btn-data');
            if (tab === 'diagram') {
                btnDiag.className = "px-4 py-2 rounded-md text-sm font-medium transition-colors bg-blue-600 text-white flex items-center gap-2 shadow-sm";
                btnData.className = "px-4 py-2 rounded-md text-sm font-medium transition-colors hover:bg-slate-800 text-slate-300 flex items-center gap-2";
            } else {
                btnData.className = "px-4 py-2 rounded-md text-sm font-medium transition-colors bg-blue-600 text-white flex items-center gap-2";
                btnDiag.className = "px-4 py-2 rounded-md text-sm font-medium transition-colors hover:bg-slate-800 text-slate-300 flex items-center gap-2";
            }
        }
        function updateFromCSV() { rawData = document.getElementById('csv-input').value; selectedNodeId = null; updateApp(); switchTab('diagram'); }
    </script>

</body></html>